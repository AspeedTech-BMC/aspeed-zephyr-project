/*
 * Copyright (c) 2022 ASPEED Technology Inc.
 *
 * SPDX-License-Identifier: MIT
 */

#include <zephyr.h>
#include <logging/log.h>
#include <drivers/i2c/pfr/i2c_filter.h>
#include "cerberus_pfr/cerberus_pfr_smbus_filtering.h"

LOG_MODULE_DECLARE(pfr, CONFIG_LOG_DEFAULT_LEVEL);

struct SMBUS_FILTER_MANIFEST smbus_filter_manifest[4] = {
	/* I2C_FILTER_0 */
	{
		.device = {
			[0] = {
				.enable = 1,
				.slave_addr = 0xb0,
				.whitelist_cmd = {
					0x69, 0x00, 0x00, 0x06, 0x00, 0x00, 0x01, 0xfc,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfe,
					0xc6, 0xf3, 0xff, 0x05, 0xc0, 0x00, 0x00, 0x00,
					0x00, 0x00, 0xf9, 0x73, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[1] = {
				.enable = 1,
				.slave_addr = 0xb2,
				.whitelist_cmd = {
					0x69, 0x00, 0x00, 0x06, 0x00, 0x00, 0x01, 0xfc,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfe,
					0xc6, 0xf3, 0xff, 0x05, 0xc0, 0x00, 0x00, 0x00,
					0x00, 0x00, 0xf9, 0x73, 0x00, 0x00, 0x00, 0x00,
				},
			},
		},
	},

	/* I2C_FILTER_1 */
	{
		.device = {
			[0] = {
				.enable = 1,
				.slave_addr = 0xb4,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[1] = {
				.enable = 1,
				.slave_addr = 0xd4,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[2] = {
				.enable = 1,
				.slave_addr = 0x4a,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[3] = {
				.enable = 1,
				.slave_addr = 0x4c,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[4] = {
				.enable = 1,
				.slave_addr = 0xdc,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[5] = {
				.enable = 1,
				.slave_addr = 0xec,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[6] = {
				.enable = 1,
				.slave_addr = 0xe0,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[7] = {
				.enable = 1,
				.slave_addr = 0xb0,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[8] = {
				.enable = 1,
				.slave_addr = 0xc4,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[9] = {
				.enable = 1,
				.slave_addr = 0xcc,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[10] = {
				.enable = 1,
				.slave_addr = 0xe4,
				.whitelist_cmd = {
					0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
		},
	},

	/* I2C_FILTER_2 */
	{
		.device = {
			[0] = {
				.enable = 1,
				.slave_addr = 0xd0,
				.whitelist_cmd = {
					0x1f, 0xfe, 0x89, 0x38, 0x2e, 0x00, 0xef, 0x3f,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
			[1] = {
				.enable = 1,
				.slave_addr = 0xd8,
				.whitelist_cmd = {
					0x1f, 0xfe, 0x89, 0x38, 0x2e, 0x00, 0xef, 0x3f,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
					0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				},
			},
		},
	},

	/* I2C_FILTER_3 */
	{},
};

